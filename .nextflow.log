Sep-03 16:46:58.542 [main] DEBUG nextflow.cli.Launcher - $> nextflow run -bg /aloy/home/ymartins/match_clinical_trial/ctpico_validation_workflow/main.nf --dataDir /aloy/home/ymartins/match_clinical_trial/validation_trials/ --runningConfig /aloy/home/ymartins/match_clinical_trial/ctpico_validation_workflow/validation_config.json --mode validation
Sep-03 16:46:58.686 [main] INFO  nextflow.cli.CmdRun - N E X T F L O W  ~  version 25.04.6
Sep-03 16:46:58.715 [main] DEBUG nextflow.plugin.PluginsFacade - Setting up plugin manager > mode=prod; embedded=false; plugins-dir=/home/ymartins/.nextflow/plugins; core-plugins: nf-amazon@2.15.0,nf-azure@1.16.0,nf-cloudcache@0.4.3,nf-codecommit@0.2.3,nf-console@1.2.1,nf-google@1.21.1,nf-k8s@1.0.0,nf-tower@1.11.4,nf-wave@1.12.1
Sep-03 16:46:58.751 [main] INFO  o.pf4j.DefaultPluginStatusProvider - Enabled plugins: []
Sep-03 16:46:58.752 [main] INFO  o.pf4j.DefaultPluginStatusProvider - Disabled plugins: []
Sep-03 16:46:58.756 [main] INFO  org.pf4j.DefaultPluginManager - PF4J version 3.12.0 in 'deployment' mode
Sep-03 16:46:58.770 [main] INFO  org.pf4j.AbstractPluginManager - No plugins
Sep-03 16:46:58.826 [main] DEBUG n.secret.LocalSecretsProvider - Secrets store: /home/ymartins/.nextflow/secrets/store.json
Sep-03 16:46:58.840 [main] DEBUG nextflow.secret.SecretsLoader - Discovered secrets providers: [nextflow.secret.LocalSecretsProvider@6ff37443] - activable => nextflow.secret.LocalSecretsProvider@6ff37443
Sep-03 16:46:58.906 [main] DEBUG nextflow.cli.CmdRun - Applied DSL=2 from script declaration
Sep-03 16:46:58.941 [main] INFO  nextflow.cli.CmdRun - Launching `/aloy/home/ymartins/match_clinical_trial/ctpico_validation_workflow/main.nf` [cheesy_gauss] DSL2 - revision: ad59aa92e8
Sep-03 16:46:58.942 [main] DEBUG nextflow.plugin.PluginsFacade - Plugins default=[]
Sep-03 16:46:58.943 [main] DEBUG nextflow.plugin.PluginsFacade - Plugins resolved requirement=[]
Sep-03 16:46:59.008 [main] DEBUG nextflow.Session - Session UUID: de4a5fc5-ac74-4a43-9ec0-8418be9f15df
Sep-03 16:46:59.008 [main] DEBUG nextflow.Session - Run name: cheesy_gauss
Sep-03 16:46:59.008 [main] DEBUG nextflow.Session - Executor pool size: 8
Sep-03 16:46:59.018 [main] DEBUG nextflow.file.FilePorter - File porter settings maxRetries=3; maxTransfers=50; pollTimeout=null
Sep-03 16:46:59.027 [main] DEBUG nextflow.util.ThreadPoolBuilder - Creating thread pool 'FileTransfer' minSize=10; maxSize=24; workQueue=LinkedBlockingQueue[-1]; allowCoreThreadTimeout=false
Sep-03 16:46:59.058 [main] DEBUG nextflow.cli.CmdRun - 
  Version: 25.04.6 build 5954
  Created: 01-07-2025 11:27 UTC (13:27 CEST)
  System: Linux 5.15.0-139-generic
  Runtime: Groovy 4.0.26 on OpenJDK 64-Bit Server VM 23.0.2-internal-adhoc.conda.src
  Encoding: UTF-8 (UTF-8)
  Process: 3044418@murakami [127.0.0.1]
  CPUs: 8 - Mem: 15.5 GB (618.7 MB) - Swap: 16 GB (11.8 GB)
Sep-03 16:46:59.100 [main] DEBUG nextflow.Session - Work-dir: /aloy/home/ymartins/match_clinical_trial/ctpico_validation_workflow/work [nfs]
Sep-03 16:46:59.101 [main] DEBUG nextflow.Session - Script base path does not exist or is not a directory: /aloy/home/ymartins/match_clinical_trial/ctpico_validation_workflow/bin
Sep-03 16:46:59.119 [main] DEBUG nextflow.executor.ExecutorFactory - Extension executors providers=[]
Sep-03 16:46:59.133 [main] DEBUG nextflow.Session - Observer factory: DefaultObserverFactory
Sep-03 16:46:59.138 [main] DEBUG nextflow.Session - Observer factory (v2): LinObserverFactory
Sep-03 16:46:59.176 [main] DEBUG nextflow.cache.CacheFactory - Using Nextflow cache factory: nextflow.cache.DefaultCacheFactory
Sep-03 16:46:59.188 [main] DEBUG nextflow.util.CustomThreadPool - Creating default thread pool > poolSize: 9; maxThreads: 1000
Sep-03 16:46:59.381 [main] DEBUG nextflow.Session - Session start
Sep-03 16:47:00.311 [main] DEBUG nextflow.script.ScriptRunner - > Launching execution
Sep-03 16:47:00.335 [main] INFO  nextflow.Nextflow -  PICO Augmentation workflow  -  P I P E L I N E
 ===================================
 dataDir       : /aloy/home/ymartins/match_clinical_trial/validation_trials/
 runningConfig : /aloy/home/ymartins/match_clinical_trial/ctpico_validation_workflow/validation_config.json
 mode       : validation
 
Sep-03 16:47:00.464 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: null
Sep-03 16:47:00.465 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'local'
Sep-03 16:47:00.474 [main] DEBUG nextflow.executor.Executor - [warm up] executor > local
Sep-03 16:47:00.484 [main] DEBUG n.processor.LocalPollingMonitor - Creating local task monitor for executor 'local' > cpus=8; memory=15.5 GB; capacity=8; pollInterval=100ms; dumpInterval=5m
Sep-03 16:47:00.487 [main] DEBUG n.processor.TaskPollingMonitor - >>> barrier register (monitor: local)
Sep-03 16:47:00.533 [main] DEBUG nextflow.processor.TaskProcessor - Creating process 'setEnvironment': maxForks=0; fair=false; array=0
Sep-03 16:47:00.630 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: null
Sep-03 16:47:00.630 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'local'
Sep-03 16:47:00.631 [main] DEBUG nextflow.processor.TaskProcessor - Creating process 'PROCESS_Validation': maxForks=0; fair=false; array=0
Sep-03 16:47:00.639 [main] DEBUG nextflow.Session - Workflow process names [dsl2]: PROCESS_PreprocessPubmed, PROCESS_Validation, setEnvironment, PROCESS_PreprocessCT
Sep-03 16:47:00.642 [main] DEBUG nextflow.Session - Igniting dataflow network (2)
Sep-03 16:47:00.643 [main] DEBUG nextflow.processor.TaskProcessor - Starting process > setEnvironment
Sep-03 16:47:00.643 [main] DEBUG nextflow.processor.TaskProcessor - Starting process > PROCESS_Validation
Sep-03 16:47:00.644 [main] DEBUG nextflow.script.ScriptRunner - Parsed script files:
  Script_19a125aad466712f: /aloy/home/ymartins/match_clinical_trial/ctpico_validation_workflow/main.nf
Sep-03 16:47:00.645 [main] DEBUG nextflow.script.ScriptRunner - > Awaiting termination 
Sep-03 16:47:00.645 [main] DEBUG nextflow.Session - Session await
Sep-03 16:47:00.886 [Task submitter] DEBUG n.executor.local.LocalTaskHandler - Launch cmd line: /bin/bash -ue .command.run
Sep-03 16:47:00.889 [Task submitter] INFO  nextflow.Session - [31/5f8de7] Submitted process > setEnvironment
Sep-03 16:47:00.928 [Task monitor] DEBUG n.processor.TaskPollingMonitor - Task completed > TaskHandler[id: 1; name: setEnvironment; status: COMPLETED; exit: 0; error: -; workDir: /aloy/home/ymartins/match_clinical_trial/ctpico_validation_workflow/work/31/5f8de7fada986e28c85839bd2a57b8]
Sep-03 16:47:00.929 [Task monitor] DEBUG nextflow.util.ThreadPoolBuilder - Creating thread pool 'TaskFinalizer' minSize=10; maxSize=24; workQueue=LinkedBlockingQueue[-1]; allowCoreThreadTimeout=false
Sep-03 16:47:00.999 [Task submitter] DEBUG n.executor.local.LocalTaskHandler - Launch cmd line: /bin/bash -ue .command.run
Sep-03 16:47:01.000 [Task submitter] INFO  nextflow.Session - [11/482749] Submitted process > PROCESS_Validation
Sep-03 16:52:00.637 [Task monitor] DEBUG n.processor.TaskPollingMonitor - !! executor local > tasks to be completed: 1 -- submitted tasks are shown below
~> TaskHandler[id: 2; name: PROCESS_Validation; status: RUNNING; exit: -; error: -; workDir: /aloy/home/ymartins/match_clinical_trial/ctpico_validation_workflow/work/11/48274954e96659de01ef81f6648892]
Sep-03 16:57:00.672 [Task monitor] DEBUG n.processor.TaskPollingMonitor - !! executor local > tasks to be completed: 1 -- submitted tasks are shown below
~> TaskHandler[id: 2; name: PROCESS_Validation; status: RUNNING; exit: -; error: -; workDir: /aloy/home/ymartins/match_clinical_trial/ctpico_validation_workflow/work/11/48274954e96659de01ef81f6648892]
Sep-03 17:02:00.764 [Task monitor] DEBUG n.processor.TaskPollingMonitor - !! executor local > tasks to be completed: 1 -- submitted tasks are shown below
~> TaskHandler[id: 2; name: PROCESS_Validation; status: RUNNING; exit: -; error: -; workDir: /aloy/home/ymartins/match_clinical_trial/ctpico_validation_workflow/work/11/48274954e96659de01ef81f6648892]
Sep-03 17:07:00.842 [Task monitor] DEBUG n.processor.TaskPollingMonitor - !! executor local > tasks to be completed: 1 -- submitted tasks are shown below
~> TaskHandler[id: 2; name: PROCESS_Validation; status: RUNNING; exit: -; error: -; workDir: /aloy/home/ymartins/match_clinical_trial/ctpico_validation_workflow/work/11/48274954e96659de01ef81f6648892]
Sep-03 17:12:00.873 [Task monitor] DEBUG n.processor.TaskPollingMonitor - !! executor local > tasks to be completed: 1 -- submitted tasks are shown below
~> TaskHandler[id: 2; name: PROCESS_Validation; status: RUNNING; exit: -; error: -; workDir: /aloy/home/ymartins/match_clinical_trial/ctpico_validation_workflow/work/11/48274954e96659de01ef81f6648892]
Sep-03 17:17:00.890 [Task monitor] DEBUG n.processor.TaskPollingMonitor - !! executor local > tasks to be completed: 1 -- submitted tasks are shown below
~> TaskHandler[id: 2; name: PROCESS_Validation; status: RUNNING; exit: -; error: -; workDir: /aloy/home/ymartins/match_clinical_trial/ctpico_validation_workflow/work/11/48274954e96659de01ef81f6648892]
Sep-03 17:22:00.990 [Task monitor] DEBUG n.processor.TaskPollingMonitor - !! executor local > tasks to be completed: 1 -- submitted tasks are shown below
~> TaskHandler[id: 2; name: PROCESS_Validation; status: RUNNING; exit: -; error: -; workDir: /aloy/home/ymartins/match_clinical_trial/ctpico_validation_workflow/work/11/48274954e96659de01ef81f6648892]
Sep-03 17:27:01.037 [Task monitor] DEBUG n.processor.TaskPollingMonitor - !! executor local > tasks to be completed: 1 -- submitted tasks are shown below
~> TaskHandler[id: 2; name: PROCESS_Validation; status: RUNNING; exit: -; error: -; workDir: /aloy/home/ymartins/match_clinical_trial/ctpico_validation_workflow/work/11/48274954e96659de01ef81f6648892]
Sep-03 17:32:01.135 [Task monitor] DEBUG n.processor.TaskPollingMonitor - !! executor local > tasks to be completed: 1 -- submitted tasks are shown below
~> TaskHandler[id: 2; name: PROCESS_Validation; status: RUNNING; exit: -; error: -; workDir: /aloy/home/ymartins/match_clinical_trial/ctpico_validation_workflow/work/11/48274954e96659de01ef81f6648892]
Sep-03 17:35:50.310 [Task monitor] DEBUG n.processor.TaskPollingMonitor - Task completed > TaskHandler[id: 2; name: PROCESS_Validation; status: COMPLETED; exit: 1; error: -; workDir: /aloy/home/ymartins/match_clinical_trial/ctpico_validation_workflow/work/11/48274954e96659de01ef81f6648892]
Sep-03 17:35:50.328 [TaskFinalizer-2] DEBUG nextflow.processor.TaskProcessor - Handling unexpected condition for
  task: name=PROCESS_Validation; work-dir=/aloy/home/ymartins/match_clinical_trial/ctpico_validation_workflow/work/11/48274954e96659de01ef81f6648892
  error [nextflow.exception.ProcessFailedException]: Process `PROCESS_Validation` terminated with an error exit status (1)
Sep-03 17:35:50.388 [TaskFinalizer-2] ERROR nextflow.processor.TaskProcessor - Error executing process > 'PROCESS_Validation'

Caused by:
  Process `PROCESS_Validation` terminated with an error exit status (1)


Command executed:

  python3 /aloy/home/ymartins/match_clinical_trial/ctpico_validation_workflow/modules/validation.py -execDir validation_trials -paramFile validation_config.json

Command exit status:
  1

Command output:
  wait True
  60
  120
  180
  240
  300
  360
  420
  480
  540
  600
  660
  720
  780
  840
  900
  960
  1020
  1080
  1140
  1200
  1260
  1320
  1380
  1440
  1500
  1560
  1620
  1680
  1740
  1800
  1860
  1920
  1980

Command error:
   87%|████████▋ | 262/302 [04:44<00:59,  1.48s/it]
   87%|████████▋ | 263/302 [04:45<00:54,  1.40s/it]
   87%|████████▋ | 264/302 [04:46<00:52,  1.38s/it]
   88%|████████▊ | 265/302 [04:48<00:47,  1.28s/it]
   88%|████████▊ | 266/302 [04:49<00:49,  1.38s/it]
   88%|████████▊ | 267/302 [04:50<00:45,  1.30s/it]
   89%|████████▊ | 268/302 [04:51<00:43,  1.27s/it]
   89%|████████▉ | 269/302 [04:53<00:41,  1.25s/it]
   89%|████████▉ | 270/302 [04:54<00:39,  1.25s/it]
   90%|████████▉ | 271/302 [04:55<00:38,  1.24s/it]
   90%|█████████ | 272/302 [04:57<00:38,  1.29s/it]
   90%|█████████ | 273/302 [04:58<00:39,  1.35s/it]
   91%|█████████ | 274/302 [04:59<00:38,  1.38s/it]
   91%|█████████ | 275/302 [05:01<00:35,  1.32s/it]
   91%|█████████▏| 276/302 [05:02<00:35,  1.35s/it]
   92%|█████████▏| 277/302 [05:03<00:33,  1.32s/it]
   92%|█████████▏| 278/302 [05:05<00:31,  1.32s/it]
   92%|█████████▏| 279/302 [05:06<00:30,  1.31s/it]
   93%|█████████▎| 280/302 [05:08<00:30,  1.40s/it]
   93%|█████████▎| 281/302 [05:09<00:29,  1.40s/it]
   93%|█████████▎| 282/302 [05:10<00:27,  1.36s/it]
   94%|█████████▎| 283/302 [05:12<00:27,  1.44s/it]
   94%|█████████▍| 284/302 [05:13<00:25,  1.43s/it]
   94%|█████████▍| 285/302 [05:15<00:24,  1.41s/it]
   95%|█████████▍| 286/302 [05:16<00:22,  1.39s/it]
   95%|█████████▌| 287/302 [05:17<00:20,  1.35s/it]
   95%|█████████▌| 288/302 [05:19<00:19,  1.36s/it]
   96%|█████████▌| 289/302 [05:20<00:17,  1.31s/it]
   96%|█████████▌| 290/302 [05:21<00:15,  1.26s/it]
   96%|█████████▋| 291/302 [05:22<00:13,  1.25s/it]
   97%|█████████▋| 292/302 [05:23<00:12,  1.28s/it]
   97%|█████████▋| 293/302 [05:25<00:11,  1.31s/it]
   97%|█████████▋| 294/302 [05:26<00:10,  1.34s/it]
   98%|█████████▊| 295/302 [05:28<00:09,  1.37s/it]
   98%|█████████▊| 296/302 [05:29<00:08,  1.35s/it]
   98%|█████████▊| 297/302 [05:30<00:06,  1.33s/it]
   99%|█████████▊| 298/302 [05:31<00:05,  1.29s/it]
   99%|█████████▉| 299/302 [05:33<00:03,  1.25s/it]
   99%|█████████▉| 300/302 [05:34<00:02,  1.27s/it]
  100%|█████████▉| 301/302 [05:35<00:01,  1.27s/it]
  100%|██████████| 302/302 [05:36<00:00,  1.11s/it]
  100%|██████████| 302/302 [05:36<00:00,  1.11s/it]
  Traceback (most recent call last):
    File "/aloy/home/ymartins/match_clinical_trial/ctpico_validation_workflow/modules/validation.py", line 830, in <module>
      i.run()
    File "/aloy/home/ymartins/match_clinical_trial/ctpico_validation_workflow/modules/validation.py", line 819, in run
      self._manage_prediction(label)
    File "/aloy/home/ymartins/match_clinical_trial/ctpico_validation_workflow/modules/validation.py", line 672, in _manage_prediction
      if(flag_parallel):
  NameError: name 'flag_parallel' is not defined

Work dir:
  /aloy/home/ymartins/match_clinical_trial/ctpico_validation_workflow/work/11/48274954e96659de01ef81f6648892

Tip: view the complete command output by changing to the process work dir and entering the command `cat .command.out`
Sep-03 17:35:50.393 [main] DEBUG nextflow.Session - Session await > all processes finished
Sep-03 17:35:50.395 [TaskFinalizer-2] DEBUG nextflow.Session - Session aborted -- Cause: Process `PROCESS_Validation` terminated with an error exit status (1)
Sep-03 17:35:50.412 [Task monitor] DEBUG n.processor.TaskPollingMonitor - <<< barrier arrives (monitor: local) - terminating tasks monitor poll loop
Sep-03 17:35:50.412 [main] DEBUG nextflow.Session - Session await > all barriers passed
Sep-03 17:35:50.428 [main] INFO  nextflow.Nextflow - Oops .. something went wrong
Sep-03 17:35:50.439 [TaskFinalizer-2] WARN  nextflow.util.SimpleAgent - Got an interrupted exception while taking agent result | java.lang.InterruptedException
Sep-03 17:35:50.442 [main] DEBUG n.trace.WorkflowStatsObserver - Workflow completed > WorkflowStats[succeededCount=1; failedCount=1; ignoredCount=0; cachedCount=0; pendingCount=0; submittedCount=0; runningCount=0; retriesCount=0; abortedCount=0; succeedDuration=6ms; failedDuration=48m 49s; cachedDuration=0ms;loadCpus=0; loadMemory=0; peakRunning=1; peakCpus=1; peakMemory=0; ]
Sep-03 17:35:50.482 [main] DEBUG nextflow.cache.CacheDB - Closing CacheDB done
Sep-03 17:35:50.520 [main] DEBUG nextflow.script.ScriptRunner - > Execution complete -- Goodbye
